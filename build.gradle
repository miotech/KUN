buildscript {
    repositories {
        mavenCentral()
    }
}

subprojects {
    apply plugin: 'java'

    group = 'com.miotech'
    version = rootProject.version

    plugins.withType(JavaPlugin) {
        sourceCompatibility = JavaVersion.VERSION_1_8

        dependencies {
            constraints {
                implementation "com.google.inject:guice:4.2.3"
                implementation 'com.google.guava:guava:28.2-jre'
                implementation "org.slf4j:slf4j-api:1.7.30"
                implementation "commons-dbutils:commons-dbutils:1.7"
                implementation "com.zaxxer:HikariCP:3.4.5"
                implementation 'ch.qos.logback:logback-classic:1.2.3'

                implementation "com.fasterxml.jackson.core:jackson-core:2.11.0"
                implementation "com.fasterxml.jackson.core:jackson-databind:2.11.0"
                implementation "org.eclipse.jetty:jetty-server:9.4.28.v20200408"
                implementation "org.eclipse.jetty:jetty-servlet:9.4.28.v20200408"
                implementation "org.eclipse.jetty:jetty-util:9.4.28.v20200408"
                implementation "org.eclipse.jetty:jetty-webapp:9.4.28.v20200408"
                implementation 'com.typesafe:config:1.4.0'
                implementation 'org.json:json:20190722'
                implementation 'com.google.protobuf:protobuf-java:3.4.0'
                implementation 'com.google.protobuf:protobuf-java-util:3.4.0'
                implementation 'io.grpc:grpc-stub:1.0.0-pre2'
                implementation 'io.grpc:grpc-protobuf:1.0.0-pre2'
                implementation 'org.elasticsearch.client:elasticsearch-rest-high-level-client:6.6.1'
                implementation 'org.apache.commons:commons-lang3:3.9'
                implementation 'io.grpc:grpc-protobuf:1.10.0'
                implementation 'org.postgresql:postgresql:42.2.5'
                implementation 'org.apache.hive:hive-jdbc:2.3.4'
                testImplementation 'org.testng:testng:6.14.2'
                testImplementation "junit:junit:4.12"
                testImplementation "org.hamcrest:hamcrest:2.2"
                testRuntimeOnly "com.h2database:h2:1.4.200"
            }

            implementation "com.google.inject:guice"
            implementation "org.slf4j:slf4j-api"
            implementation 'ch.qos.logback:logback-classic'
            testImplementation "junit:junit"
            testImplementation "org.hamcrest:hamcrest"
        }
        repositories {
            mavenCentral()
        }
    }
    
}
